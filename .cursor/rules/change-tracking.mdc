---
description: 
globs: 
alwaysApply: false
---
# 变更跟踪和记录规则

## 变更记录要求

每当AI助手对代码库进行任何修改时，**必须**在项目根目录的 [README.md](mdc:README.md) 文件中记录这些变更。

## 记录格式

### 在README.md中添加变更日志部分

如果README.md中没有"变更日志"或"Change Log"部分，需要添加以下格式的部分：

```markdown
## 变更日志

### [日期] - AI助手变更记录

#### 新增文件
- `文件路径` - 文件描述和用途

#### 修改文件
- `文件路径` - 具体修改内容说明
  - 添加了什么功能
  - 修复了什么问题
  - 重构了什么代码

#### 删除文件
- `文件路径` - 删除原因

---
```

## 记录内容要求

### 必须记录的信息
1. **日期和时间** - 变更发生的日期
2. **变更类型** - 新增/修改/删除
3. **文件路径** - 完整的相对路径
4. **变更描述** - 清晰说明做了什么改动
5. **变更原因** - 为什么要做这个改动

### 变更描述示例
```markdown
### 2024-01-15 - AI助手变更记录

#### 新增文件
- `src/components/UserProfile.js` - 新增用户资料显示组件，支持头像和基本信息展示
- `src/utils/validators.js` - 新增表单验证工具函数

#### 修改文件
- `src/App.js` - 
  - 添加了用户认证状态管理
  - 集成了新的UserProfile组件
  - 修复了路由跳转问题
- `package.json` - 添加了axios依赖用于API调用

#### 删除文件
- `src/deprecated/OldComponent.js` - 移除已废弃的组件，功能已被UserProfile替代
```

## 特殊情况处理

### 大量文件变更
如果一次性修改了很多文件，可以按功能模块分组记录：

```markdown
#### 用户认证功能重构
- 修改了以下文件以实现新的认证系统：
  - `src/auth/login.js` - 重构登录逻辑
  - `src/auth/register.js` - 添加注册验证
  - `src/utils/auth.js` - 新增认证工具函数
```

### 配置文件更改
对于配置文件的更改，要特别说明：

```markdown
#### 配置更新
- `.cursor/rules/new-rule.mdc` - 新增代码规范规则，要求所有函数添加JSDoc注释
- `package.json` - 更新React版本至18.2.0，解决安全漏洞
```

## 执行流程

1. **代码修改前** - 了解要做什么改动
2. **执行代码修改** - 使用相应的工具进行修改
3. **立即记录变更** - 在README.md中按格式记录本次变更
4. **验证记录完整性** - 确保所有修改的文件都已记录

## 记录位置

- **主要记录位置**: [README.md](mdc:README.md) 文件的"变更日志"部分
- **详细技术文档**: 如果变更涉及架构调整，可以在相关的规则文件中补充说明

## 注意事项

- 记录要及时，不能延后
- 描述要清晰，让其他开发者能够理解
- 保持格式一致性
- 重要变更要特别标注
- 如果修复了bug，要说明原始问题和解决方案
